\begin{pycode}
from ThermoProblems.Latex import TexUtils as tu
from iapws import IAPWS97
P1=3200
T1=355
Psat=2900
TL=50
mdot=15
P1MPa=P1/1000
PsatMpa=Psat/1000
T1K=T1+273.15
TLK=TL+273.15

inlet=IAPWS97(T=T1K,P=P1MPa)
outlet=IAPWS97(P=PsatMpa,x=1.0)
inL=IAPWS97(T=TLK,x=0.0)

mLdot=mdot*((inlet.h-outlet.h)/(inlet.h-inL.h))

\end{pycode}

Superheated steam at \py{f'{P1:,.0f}'} kPa and \py{T1}$^\circ$C is to be converted to saturated steam at \py{f'{Psat:,.0f}'} kPa in a desuperheater.  This desuperheater is supplied with inlet liquid water at \py{TL}$^\circ$C.  The unit should produce saturated steam at a rate of \py{mdot} kg~s$^{-1}$.  Assuming adiabatic operation, and assuming the liquid inlet is saturated, what is the mass flowrate of the inlet water?

The following enthalpies will be useful:
\begin{itemize}
\item[] Superheated steam at \py{T1}$^\circ$C and \py{f'{P1:,.0f}'}~kPa: $\hat{H}$ = \py{f'{inlet.h:,.2f}'} kJ/kg;
\item[] Saturated liquid water at \py{TL}$^\circ$C: $\hat{H}^{\rm L}$ = \py{f'{inL.h:,.2f}'} kJ/kg; and
\item[] Saturated water vapor at \py{f'{Psat:,.0f}'} kPa: $\hat{H}^{\rm V}$ = \py{f'{outlet.h:,.2f}'} kJ/kg.
\end{itemize}

\ifshowsolutions\Solutionheader

Let stream 1 be the liquid water stream, which we assume is saturated liquid, stream 2 be the superheated steam inlet, and stream 3 be the saturated steam outlet.  Hence, $\dot{m}_3$ = 15 kg~s$^{-1}$ as given.  The mass and energy balance yield the two unknowns $\dot{m}_1$ and $\dot{m}_2$:

\begin{align*}
\dot{m}_1 + \dot{m}_2 & = \dot{m}_3\\
\dot{m}_1\hat{H}_1 + \dot{m}_2\hat{H}_2 & = \dot{m}_3\hat{H}_3\\
\end{align*}

Solving these two simultaneously yields 

\begin{align*}
\dot{m}_1 & = \dot{m}_3\left(\frac{\hat{H}_2-\hat{H}_3}{\hat{H}_2-\hat{H}_1}\right)\\
& = (15)\left(\frac{\py{f'{inlet.h:,.2f}'}-\py{f'{outlet.h:,.2f}'}}{\py{f'{inlet.h:,.2f}'}-\py{f'{inL.h:,.2f}'}}\right) = \fbox{\py{f'{mLdot:.2f}'}\ \mbox{kg~s$^{-1}$}}.
\end{align*}
\clearpage
\else
\ifgivespace
\clearpage
\fi
\fi

