\begin{pycode}
DSUH=P.pick_state(
    dict(
        P1={'default':3.2,'pick':{'between':[2.9,3.9],'round':1}}, # MPa
        T1C={'default':355,'pick':{'between':[340,360],'round':0}},
        Psat={'default':2.9,'pick':{'between':[2.7,2.9],'round':3}}, # MPa
        TLC={'default':50,'pick':{'between':[45,55],'round':0}},
        mdot={'default':15,'pick':{'between':[10,50],'round':0}}))
P1=DSUH.P1
T1C=DSUH.T1C
Psat=DSUH.Psat
TLC=DSUH.TLC
mdot=DSUH.mdot

inlet=SANDLER(T=T1C,P=P1)
outlet=SANDLER(P=Psat,x=1.0)
inL=SANDLER(T=TLC,x=0.0)

mLdot=mdot*((inlet.h-outlet.h)/(inlet.h-inL.h))
m_show=float(np.round(mLdot,3))
if 'solutions' in locals():
    solutions.append(dict(mldot=m_show))
\end{pycode}

Superheated steam at \py{f'{P1:,.0f}'} MPa and \py{T1C}$^\circ$C is to be converted to saturated steam at \py{f'{Psat:,.0f}'} MPa in a desuperheater.  This desuperheater is supplied with inlet liquid water at \py{TLC}$^\circ$C.  The unit should produce saturated steam at a rate of \py{mdot} kg~s$^{-1}$.  Assuming adiabatic operation, and assuming the liquid inlet is saturated, what is the mass flowrate of the inlet water?

The following enthalpies will be useful:
\begin{itemize}
\item[] Superheated steam at \py{T1C}$^\circ$C and \py{f'{P1:,.0f}'}~MPa: $\hat{H}$ = \py{f'{inlet.h:,.2f}'} kJ/kg;
\item[] Saturated liquid water at \py{TLC}$^\circ$C: $\hat{H}^{\rm L}$ = \py{f'{inL.h:,.2f}'} kJ/kg; and
\item[] Saturated water vapor at \py{f'{Psat:,.0f}'}~MPa: $\hat{H}^{\rm V}$ = \py{f'{outlet.h:,.2f}'} kJ/kg.
\end{itemize}

\ifshowsolutions\Solutionheader

Let stream 1 be the liquid water stream, which we assume is saturated liquid, stream 2 be the superheated steam inlet, and stream 3 be the saturated steam outlet.  Hence, $\dot{m}_3$ = 15 kg~s$^{-1}$ as given.  The mass and energy balance yield the two unknowns $\dot{m}_1$ and $\dot{m}_2$:

\begin{align*}
\dot{m}_1 + \dot{m}_2 & = \dot{m}_3\\
\dot{m}_1\hat{H}_1 + \dot{m}_2\hat{H}_2 & = \dot{m}_3\hat{H}_3\\
\end{align*}

Solving these two simultaneously yields 

\begin{align*}
\dot{m}_1 & = \dot{m}_3\left(\frac{\hat{H}_2-\hat{H}_3}{\hat{H}_2-\hat{H}_1}\right)\\
& = (15)\left(\frac{\py{f'{inlet.h:,.2f}'}-\py{f'{outlet.h:,.2f}'}}{\py{f'{inlet.h:,.2f}'}-\py{f'{inL.h:,.2f}'}}\right) = \fbox{\py{f'{mLdot:.2f}'}\ \mbox{kg~s$^{-1}$}}.
\end{align*}
\clearpage
\else
\ifgivespace
\clearpage
\fi
\fi

